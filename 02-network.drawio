<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="VSCode" type="device">
  <diagram name="Network" id="nw-02">
    <mxGraphModel dx="1600" dy="1000" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1500" pageHeight="1000" background="#050505">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Font loader (Google Fonts) -->
        <mxCell id="font-loader" value="&lt;link rel=&quot;stylesheet&quot; href=&quot;https://fonts.googleapis.com/css2?family=Barlow:wght@400;700&quot;&gt;" style="text;html=1;strokeColor=none;fillColor=none;fontColor=none;fontSize=1;movable=0;resizable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="0" y="0" width="1" height="1" as="geometry" />
        </mxCell>

        <!-- Background fill -->
        <mxCell id="bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#050505;strokeColor=none;movable=0;resizable=0;deletable=0;editable=0;connectable=0;" parent="1" vertex="1">
          <mxGeometry x="0" y="0" width="1500" height="1000" as="geometry" />
        </mxCell>

        <!-- Title -->
        <mxCell id="title" value="02 NETWORK" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontColor=#FFFFFF;fontSize=24;fontStyle=1;fontFamily=Barlow;letterSpacing=4;" parent="1" vertex="1">
          <mxGeometry x="50" y="20" width="400" height="35" as="geometry" />
        </mxCell>
        <mxCell id="subtitle" value="WiFi, WireGuard VPN, MQTT protocol, and remote access topology" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontColor=#707070;fontSize=13;fontFamily=Barlow;letterSpacing=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="55" width="600" height="20" as="geometry" />
        </mxCell>

        <!-- ===== Layer 1: Remote Access ===== -->
        <mxCell id="L1-label" value="REMOTE ACCESS&lt;br&gt;&lt;font color=&quot;#444444&quot;&gt;Tailscale&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontColor=#555555;fontSize=11;fontStyle=1;fontFamily=Barlow;letterSpacing=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="100" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="developer" value="&lt;b&gt;Developer&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;Mac / External Network&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;Tailscale Client&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#333333;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="190" y="95" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="tailscale-sidecar" value="&lt;b&gt;Tailscale Sidecar&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;Docker container&lt;br&gt;Subnet router 10.6.0.0/24&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;iwadev.dog-gar.ts.net&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#333333;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="480" y="90" width="240" height="85" as="geometry" />
        </mxCell>
        <mxCell id="services" value="&lt;b&gt;Accessible Services&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;Grafana :3000 | Node-RED :1880&lt;br&gt;InfluxDB :8086 | ESP32 WebUIs via VPN&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#333333;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="810" y="95" width="260" height="70" as="geometry" />
        </mxCell>
        <mxCell id="duckdns" value="&lt;b&gt;DuckDNS&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;Dynamic DNS&lt;br&gt;cron 5min update&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;iwadev.duckdns.org&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#080808;strokeColor=#222222;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="1160" y="90" width="190" height="85" as="geometry" />
        </mxCell>

        <!-- ===== Layer 2: WireGuard VPN ===== -->
        <mxCell id="L2-label" value="VPN LAYER&lt;br&gt;&lt;font color=&quot;#444444&quot;&gt;WireGuard&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontColor=#555555;fontSize=11;fontStyle=1;fontFamily=Barlow;letterSpacing=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="215" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wg-server" value="&lt;b&gt;WireGuard Server&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;Host service (systemd)&lt;br&gt;Listen port: UDP 443&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;wg0: 10.6.0.1&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#555555;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="190" y="210" width="210" height="85" as="geometry" />
        </mxCell>
        <mxCell id="peer1" value="&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;10.6.0.2&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#555&quot;&gt;atoms3-01&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=6;fillColor=#080808;strokeColor=#333333;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=10;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="460" y="220" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="peer2" value="&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;10.6.0.3&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#555&quot;&gt;m5sensor-17c8&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=6;fillColor=#080808;strokeColor=#333333;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=10;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="590" y="220" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="peer3" value="&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;10.6.0.4&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#555&quot;&gt;m5sensor-03a8&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=6;fillColor=#080808;strokeColor=#333333;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=10;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="730" y="220" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="peer4" value="&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;10.6.0.5&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#555&quot;&gt;m5sensor-b420&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=6;fillColor=#080808;strokeColor=#333333;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=10;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="870" y="220" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="peer5" value="&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;10.6.0.6&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#555&quot;&gt;m5sensor-f8e0&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=6;fillColor=#080808;strokeColor=#333333;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=10;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="1010" y="220" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="iptables" value="&lt;b&gt;iptables NAT&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;MASQUERADE&lt;br&gt;wg0 → Docker host network&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#080808;strokeColor=#222222;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="1195" y="215" width="190" height="65" as="geometry" />
        </mxCell>

        <!-- ===== Layer 3: Physical ===== -->
        <mxCell id="L3-label" value="PHYSICAL&lt;br&gt;&lt;font color=&quot;#444444&quot;&gt;Home LAN&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontColor=#555555;fontSize=11;fontStyle=1;fontFamily=Barlow;letterSpacing=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="340" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="home-router" value="&lt;b&gt;Home Router&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;NAT / DHCP / WiFi AP&lt;br&gt;Port forward: UDP 443 → RasPi&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;192.168.0.0/24&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#333333;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="190" y="335" width="240" height="85" as="geometry" />
        </mxCell>
        <mxCell id="esp32-group" value="&lt;font color=&quot;#707070&quot;&gt;ESP32 x5&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#555&quot;&gt;DHCP / STA mode&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=6;fillColor=#080808;strokeColor=#333333;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=10;align=center;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="530" y="350" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="raspi-phys" value="&lt;b&gt;RasPi iwadev&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;Ethernet (GbE)&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;eth0: 192.168.0.53&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#333333;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="790" y="340" width="200" height="70" as="geometry" />
        </mxCell>

        <!-- ===== Layer 4: MQTT ===== -->
        <mxCell id="L4-label" value="PROTOCOL&lt;br&gt;&lt;font color=&quot;#444444&quot;&gt;MQTT&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontColor=#555555;fontSize=11;fontStyle=1;fontFamily=Barlow;letterSpacing=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="465" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="mosquitto" value="&lt;b&gt;Mosquitto&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;MQTT Broker&lt;br&gt;Anonymous auth (VPN-trusted)&lt;br&gt;Persistence enabled&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;:1883 (host network)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#555555;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="190" y="455" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="topics" value="&lt;b style=&quot;color:#FFFFFF&quot;&gt;MQTT TOPICS&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot; color=&quot;#707070&quot;&gt;sensors/+/data&lt;/font&gt; &lt;font color=&quot;#555&quot;&gt;— Temp, Hum, Press, CO2&lt;/font&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot; color=&quot;#707070&quot;&gt;sensors/+/renogy&lt;/font&gt; &lt;font color=&quot;#555&quot;&gt;— Solar charge controller&lt;/font&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot; color=&quot;#707070&quot;&gt;sensors/+/battery&lt;/font&gt; &lt;font color=&quot;#555&quot;&gt;— KH140F battery monitor&lt;/font&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot; color=&quot;#707070&quot;&gt;sensors/+/vital&lt;/font&gt; &lt;font color=&quot;#555&quot;&gt;— Heart rate, breathing&lt;/font&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot; color=&quot;#707070&quot;&gt;ups/raspi/status&lt;/font&gt; &lt;font color=&quot;#555&quot;&gt;— UPS SOC, voltage&lt;/font&gt;&lt;br&gt;&lt;font face=&quot;Courier New&quot; color=&quot;#707070&quot;&gt;ota/request/+&lt;/font&gt; &lt;font color=&quot;#555&quot;&gt;— OTA firmware push&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#080808;strokeColor=#222222;fontColor=#CCCCCC;fontFamily=Barlow;fontSize=10;align=left;spacingLeft=12;verticalAlign=top;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="500" y="455" width="380" height="155" as="geometry" />
        </mxCell>

        <!-- ===== Layer 5: Application ===== -->
        <mxCell id="L5-label" value="APPLICATION&lt;br&gt;&lt;font color=&quot;#444444&quot;&gt;Data Pipeline&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontColor=#555555;fontSize=11;fontStyle=1;fontFamily=Barlow;letterSpacing=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="650" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nodered" value="&lt;b&gt;Node-RED&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;MQTT subscribe&lt;br&gt;JSON parse → DEVICE_MAP&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;:1880 (via Tailscale)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#555555;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="190" y="645" width="220" height="85" as="geometry" />
        </mxCell>
        <mxCell id="influxdb" value="&lt;b&gt;InfluxDB 1.8&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;DB: solar&lt;br&gt;raw_7d (7 days)&lt;br&gt;rollup_10y (10min avg, 10yr)&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;:8086 (host network)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#555555;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="490" y="640" width="230" height="100" as="geometry" />
        </mxCell>
        <mxCell id="grafana" value="&lt;b&gt;Grafana 12.x&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;7 Dashboards&lt;br&gt;Anonymous Viewer&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot; face=&quot;Courier New&quot;&gt;:3000 (host network)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#555555;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="800" y="645" width="200" height="85" as="geometry" />
        </mxCell>
        <mxCell id="telegraf" value="&lt;b&gt;Telegraf&lt;/b&gt;&lt;br&gt;&lt;font color=&quot;#CCCCCC&quot;&gt;CPU, mem, disk, Docker&lt;br&gt;NVMe temps, PMIC&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=8;fillColor=#0A0A0A;strokeColor=#333333;fontColor=#FFFFFF;fontFamily=Barlow;fontSize=11;align=left;spacingLeft=12;verticalAlign=top;spacingTop=8;" parent="1" vertex="1">
          <mxGeometry x="1080" y="650" width="180" height="65" as="geometry" />
        </mxCell>

        <!-- ESP32 Connection Sequence -->
        <mxCell id="esp32-seq" value="&lt;font color=&quot;#444&quot;&gt;ESP32 CONNECTION SEQUENCE&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#707070&quot;&gt;WiFi STA → NTP Sync → WireGuard Handshake → MQTT Connect → Sensor Publish&lt;/font&gt;&lt;br&gt;&lt;font color=&quot;#444&quot;&gt;WiFi disconnect while WG active → ESP.restart() (crash avoidance)&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;fontColor=#555555;fontSize=11;fontFamily=Barlow;" parent="1" vertex="1">
          <mxGeometry x="190" y="780" width="650" height="50" as="geometry" />
        </mxCell>

        <!-- ===== Edges ===== -->
        <!-- L1: Developer → Tailscale → Services -->
        <mxCell id="e-dev-ts" value="&lt;font color=&quot;#707070&quot;&gt;Encrypted Tunnel&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#555555;strokeWidth=1.5;fontFamily=Barlow;fontSize=9;fontColor=#707070;endArrow=blockThin;endFill=1;" parent="1" source="developer" target="tailscale-sidecar" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e-ts-svc" value="&lt;font color=&quot;#707070&quot;&gt;Subnet Route&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#555555;strokeWidth=1.5;fontFamily=Barlow;fontSize=9;fontColor=#707070;endArrow=blockThin;endFill=1;" parent="1" source="tailscale-sidecar" target="services" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- L2: WG Server → Peers -->
        <mxCell id="e-wg-p1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;dashed=1;dashPattern=4 3;endArrow=blockThin;endFill=1;" parent="1" source="wg-server" target="peer1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e-wg-p3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;dashed=1;dashPattern=4 3;endArrow=blockThin;endFill=1;" parent="1" source="wg-server" target="peer3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e-wg-p5" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;dashed=1;dashPattern=4 3;endArrow=blockThin;endFill=1;" parent="1" source="wg-server" target="peer5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- L3: Router connections -->
        <mxCell id="e-rtr-esp" value="&lt;font color=&quot;#555&quot;&gt;WiFi&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;dashed=1;dashPattern=5 4;fontFamily=Barlow;fontSize=9;fontColor=#555;endArrow=blockThin;endFill=1;" parent="1" source="home-router" target="esp32-group" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e-rtr-rpi" value="&lt;font color=&quot;#707070&quot;&gt;Ethernet&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#555555;strokeWidth=1.5;fontFamily=Barlow;fontSize=9;fontColor=#707070;endArrow=blockThin;endFill=1;" parent="1" source="home-router" target="raspi-phys" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- L5: Data pipeline -->
        <mxCell id="e-nr-idb" value="&lt;font color=&quot;#707070&quot;&gt;HTTP Write&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#555555;strokeWidth=1.5;fontFamily=Barlow;fontSize=9;fontColor=#707070;endArrow=blockThin;endFill=1;" parent="1" source="nodered" target="influxdb" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e-idb-gf" value="&lt;font color=&quot;#707070&quot;&gt;Query&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#555555;strokeWidth=1.5;fontFamily=Barlow;fontSize=9;fontColor=#707070;endArrow=blockThin;endFill=1;" parent="1" source="influxdb" target="grafana" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e-tg-idb" value="&lt;font color=&quot;#555&quot;&gt;Metrics&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#333333;strokeWidth=1;dashed=1;dashPattern=4 3;fontFamily=Barlow;fontSize=9;fontColor=#555;endArrow=blockThin;endFill=1;" parent="1" source="telegraf" target="influxdb" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
